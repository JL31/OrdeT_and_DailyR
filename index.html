<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>OrdeT</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="css/ordet.css"></style>
  <script src="js/unified_storage.js"></script>
</head>
<body>
  <!-- Navbar fixe -->
  <nav class="navbar is-dark is-fixed-top" role="navigation">
    <div class="navbar-brand">
      <a class="navbar-item" href="index.html">
        <strong>OrdeT</strong>
      </a>
    </div>

    <div class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="dailyr.html">
          <span>&gt;&gt;&gt; Go to DailyR</span>
        </a>
      </div>

      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
            <span class="icon"><i class="fas fa-plus"></i></span>
            <span>Ajouter</span>
          </a>
          <div class="navbar-dropdown">
            <a class="navbar-item" id="navbar-add-sujet">
              <span class="icon"><i class="fas fa-tasks"></i></span>
              <span>Nouveau Sujet</span>
            </a>
            <a class="navbar-item" id="navbar-add-revue">
              <span class="icon"><i class="fas fa-search"></i></span>
              <span>Nouvelle Revue</span>
            </a>
          </div>
        </div>

        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
            <span class="icon"><i class="fas fa-cog"></i></span>
            <span>Données</span>
          </a>
          <div class="navbar-dropdown">
            <a class="navbar-item" id="navbar-jira-url">
              <span class="icon"><i class="fas"></i></span>
              <span>URL Jira</span>
            </a>
            <a class="navbar-item" id="navbar-export">
              <span class="icon"><i class="fas fa-download"></i></span>
              <span>Exporter</span>
            </a>
            <label class="navbar-item" for="navbar-import-file">
              <span class="icon"><i class="fas fa-upload"></i></span>
              <span>Importer</span>
              <input type="file" id="navbar-import-file" accept="application/json" style="display: none;">
            </label>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <main class="container is-fluid">
    <!-- Section Sujets -->
    <section class="section">
      <h1 class="title is-2 has-text-centered">
        <span class="icon is-large"><i class="fas fa-tasks"></i></span>
        Sujets
      </h1>
      <div id="sujets-container"></div>
    </section>

    <div class="separator"></div>

    <!-- Section Revues -->
    <section class="section">
      <h1 class="title is-2 has-text-centered">
        <span class="icon is-large"><i class="fas fa-search"></i></span>
        Revues
      </h1>
      <div id="revues-container"></div>
    </section>
  </main>

  <!-- Modal pour Sujet -->
  <div class="modal" id="modal-sujet">
    <div class="modal-background"></div>
    <div class="modal-card">
      <header class="modal-card-head">
        <p class="modal-card-title">Ajouter / Modifier un sujet</p>
        <button class="delete modal-close"></button>
      </header>
      <section class="modal-card-body">
        <form id="form-sujet">
          <div class="field">
            <label class="label">Statut</label>
            <div class="control">
              <div class="select is-fullwidth">
                <select name="statut">
                  <option>Terminé</option>
                  <option>En attente</option>
                  <option>En validation</option>
                  <option>En revue</option>
                  <option>En cours</option>
                  <option>A démarrer</option>
                </select>
              </div>
            </div>
          </div>

          <div class="field">
            <label class="label">Référence Jira</label>
            <div class="control">
              <input class="input" type="text" name="jira" required>
            </div>
          </div>

          <div class="field">
            <label class="label">Résumé</label>
            <div class="control">
              <input class="input" type="text" name="resume" required>
            </div>
          </div>

          <div class="field">
            <label class="label">Commentaire</label>
            <div class="control">
              <textarea class="textarea" name="commentaire" rows="3"></textarea>
            </div>
          </div>
        </form>
      </section>
      <footer class="modal-card-foot">
        <button class="button is-success" type="submit" form="form-sujet">Valider</button>
        <button class="button modal-close">Annuler</button>
      </footer>
    </div>
  </div>

  <!-- Modal pour Revue -->
  <div class="modal" id="modal-revue">
    <div class="modal-background"></div>
    <div class="modal-card">
      <header class="modal-card-head">
        <p class="modal-card-title">Ajouter / Modifier une revue</p>
        <button class="delete modal-close"></button>
      </header>
      <section class="modal-card-body">
        <form id="form-revue">
          <div class="field">
            <label class="label">Statut</label>
            <div class="control">
              <div class="select is-fullwidth">
                <select name="statut">
                  <option>Faite</option>
                  <option>En cours</option>
                  <option>A faire</option>
                </select>
              </div>
            </div>
          </div>

          <div class="field">
            <label class="label">Référence Jira</label>
            <div class="control">
              <input class="input" type="text" name="jira" required>
            </div>
          </div>

          <div class="field">
            <label class="label">Résumé</label>
            <div class="control">
              <input class="input" type="text" name="resume" required>
            </div>
          </div>

          <div class="field">
            <label class="label">Commentaire</label>
            <div class="control">
              <textarea class="textarea" name="commentaire" rows="3"></textarea>
            </div>
          </div>
        </form>
      </section>
      <footer class="modal-card-foot">
        <button class="button is-success" type="submit" form="form-revue">Valider</button>
        <button class="button modal-close">Annuler</button>
      </footer>
    </div>
  </div>

  <!-- Modal de définition de l'URL pour Jira -->
  <div class="modal" id="modal-set-jira-url">
    <div class="modal-background"></div>
    <div class="modal-card">
      <header class="modal-card-head">
        <p class="modal-card-title">Définition de l'URL Jira</p>
        <button class="modal-close"></button>
      </header>
      <section class="modal-card-body">
        <div class="field">
          <label class="label">URL vers le projet Jira</label>
          <div class="control">
            <input class="input" type="text" name="jira-url" id="jira-url-id">
          </div>
        </div>
      </section>
      <footer class="modal-card-foot">
        <button class="button is-success" id="set-jira-url">Valider</button>
        <button class="button modal-close">Annuler</button>
      </footer>
    </div>
  </div>
  <script src="js/ordet.js"></script>
</body>
</html>
